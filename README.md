# LabelSpeech

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—á–∏ –≤ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞—Ö.

![LabelSpeech](img/labelspeech.jpg)

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–∑–º–µ—Ç–∫–∏ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≥–æ—Ä—è—á–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏
- –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∑–∞–¥–∞–Ω–∏—è—Ö —Ä–∞–∑–º–µ—Ç–∫–∏
- –ú–µ—Ö–∞–Ω–∏–∑–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–π 
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∑–∞–¥–∞–Ω–∏–π —Å—Ä–µ–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ üòé

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ docker (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –≤–µ—Ä—Å–∏—è 23.0.5 –∏ docker compose –≤–µ—Ä—Å–∏–∏ 2.17.3) –≤ –≤–∏–¥–µ 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
- –°–£–ë–î PostgreSQL  - —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ç–∫–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- REST API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Minio - —Ö—Ä–∞–Ω–∏—Ç –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã (–≤–æ–∑–º–æ–∂–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞)
- Nginx —Å–µ—Ä–≤–µ—Ä, –¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```
git clone <–°–°–´–õ–ö–ê> && cd <–ü–ê–ü–ö–ê>
```

2. –ö–æ–ø–∏—Ä—É–µ–º .env.example –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –µ–≥–æ –∫–æ–ø–∏—é –≤ .env —Ñ–∞–π–ª. –í –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã. –í —Ç–∞–±–ª–∏—Ü–µ –Ω–∏–∂–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –≤ production-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ —è–≤–ª—è—é—Ç—Å—è:
	- JWT —Ç–æ–∫–µ–Ω
	- –î–∞–Ω–Ω—ã–µ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ 
	- –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
	- S3 —Ç–æ–∫–µ–Ω –∑–∞–≥—Ä—É–∑–∫–∏

3. –ü–æ–¥–Ω–∏–º–∞–µ–º –∫–æ–º–ø–æ—É–∑:
```
docker compose up -d --build
```

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–∫–∫–∞—É–Ω—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –Ω–µ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∞—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π –Ω–∞ —Ä–∞–∑–º–µ—Ç–∫—É

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —Å —Ä–µ—á—å—é –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTP-–∑–∞–ø—Ä–æ—Å –∫ REST API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é (–¥–æ—Å—Ç—É–ø–Ω–æ–º—É –ø–æ –ø–æ—Ä—Ç—É 8000) –ø–æ –ø—É—Ç–∏ /api/file/upload. –î–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ (–∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ .env —Ñ–∞–π–ª–µ), –∞—É–¥–∏–æ—Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ MP3 –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—é —Ä–µ—á–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π). –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∞—É–¥–∏–æ—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∞ –µ–≥–æ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –º–µ—Ç–æ–¥–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∞–¥—Ä–µ—Å—É http://<–∞–¥—Ä–µ—Å_—Å–µ—Ä–≤–µ—Ä–∞>:8000/docs (–Ω–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É 192.168.1.5 —Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É http://192.168.1.5:8000/docs)

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                          |
| ----------------------- | ------------------------------------------------------------------------------------------------- |
| JWT_SECRET              | JSON WEB Token –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏                                                       |
| JWT_ACCESS_EXPIRE       | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è access —Ç–æ–∫–µ–Ω–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö                                                             |
| JWT_REFRESH_EXPIRE      | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è refresh —Ç–æ–∫–µ–Ω–∞ –≤ —á–∞—Å–∞—Ö                                                              |
| JWT_REFRESH_LONG_EXPIRE | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–¥–ª–µ–Ω–Ω–æ–≥–æ refresh —Ç–æ–∫–µ–Ω–∞ –≤ —á–∞—Å–∞—Ö                                                  |
| SERVER_ADDR             | –ê–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –±—ç–∫—ç–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞                       |
| SERVER_PORT             | –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –±—ç–∫—ç–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞                        |
| SERVER_TEST             | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã uvicorn. –î–ª—è dev —Å–µ—Ä–≤–µ—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - true, –¥–ª—è production —Å–µ—Ä–≤–µ—Ä–∞ - false |
| DB_ADDR                 | Hostname –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                                                                              |
| DB_PORT                 | –ü–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö                                                |
| DB_USERNAME             | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö                                                        |
| DB_PASSWORD             | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö                                                     |
| DB_NAME                 | –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö                                                                              |
| AWS_ACCESS_KEY_ID       | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª—é—á–∞, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ —Ä–∞–±–æ—Ç–µ c S3                         |
| AWS_SECRET_ACCESS_KEY   | –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ S3                                                                           |
| AWS_REGION              | –†–µ–≥–∏–æ–Ω —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã AWS                                                              |
| AWS_HOST                | URL S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞                                                                                  |
| AWS_BUCKET              | –ù–∞–∑–≤–∞–Ω–∏–µ aws bucket –¥–ª—è –≤–∞—à–µ–≥–æ S3                                                                 |
| MAX_USERS_WITH_FRAGMENT | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–¥–∞–Ω –æ–¥–∏–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏        |
| ADMIN_USERNAME          | –õ–æ–≥–∏–Ω –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è        |
| ADMIN_PASSWORD          | –ü–∞—Ä–æ–ª—å –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞                                                                 |
| S3_TOKEN                | –¢–æ–∫–µ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π –≤ S3. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π                                                                                                  |







