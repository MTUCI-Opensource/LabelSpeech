var P=Object.defineProperty;var R=(s,t,o)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var d=(s,t,o)=>(R(s,typeof t!="symbol"?t+"":t,o),o);import{k as I,m as z,K as w,f as g,s as b,t as F,a as m,b as W,r as h,j as e,F as B,c as y,U as Z,T as k,d as u,p as A,N as E,B as T,G as U,C as $}from"./index-14422766.js";import{S as G}from"./Select-29b606d3.js";import"./get-select-right-section-props-739d3de5.js";import"./Popover-344254a7.js";import"./use-input-props-561b2f2e.js";const O=I("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);class K{constructor(){d(this,"settingsStates",{transcribation:"admin_block",validation:"admin_block",classify:"admin_block",label:"admin_block"});d(this,"language",w.language);d(this,"toggleLanguage",t=>{this.language=t});d(this,"selectedColorScheme",localStorage.getItem("mantine-color-scheme"));d(this,"toggleSelectedColorScheme",t=>{t?this.selectedColorScheme=t:this.selectedColorScheme=this.selectedColorScheme==="dark"?"light":"dark"});d(this,"setPermissions",t=>{this.settingsStates=t});d(this,"togglePermission",(t,o)=>{const[l,a]=this.settingsStates[o].split("_");(l==="user"||t==="admin")&&(this.settingsStates={...this.settingsStates,[o]:a==="allow"?"user_block":"user_allow"})});z(this)}}const C=new K,q=g(s=>{const t=s.colorScheme==="dark";return{root:{gap:"20px",width:"100%",height:"55%",alignItems:"end",justifyContent:"end"},cancelButton:{width:"140px",fontWeight:400,fontSize:"14px",color:s.colors.gray[5],"&:disabled":{background:"transparent",color:s.colors.gray[5]}},applyButton:{width:"140px",fontWeight:500,fontSize:"14px",backgroundColor:t?s.colors.darkBlue[2]:s.colors.blue[5],"&:disabled":{opacity:.7,backgroundColor:t?s.colors.darkBlue[2]:s.colors.blue[5],color:"white"}}}}),J=b(()=>{const{classes:s}=q(),{colorScheme:t,toggleColorScheme:o}=F(),{t:l}=m(),{tasksPermission:a,updateUserPermissions:r}=Z,{setPermissions:c,toggleSelectedColorScheme:x,selectedColorScheme:n,settingsStates:i,language:p}=C,{successNotification:S}=W(),j=()=>{r(i),o(n),w.changeLanguage(p),S(l("Настройки применены"))},D=()=>{c(a),x(t)},L=h.useMemo(()=>t!==n,[t,n]),M=h.useMemo(()=>p!==w.language,[p]),v=h.useMemo(()=>!!Object.entries(a).filter(([N,V])=>V!==i[N]).length,[i,a]);return e.jsxs(B,{className:s.root,children:[e.jsx(y,{variant:"subtle",onClick:D,className:s.cancelButton,disabled:!(v||L||M),children:l("Отмена")}),e.jsx(y,{onClick:j,className:s.applyButton,disabled:!(v||L||M),children:l("Применить")})]})}),Q="/assets/DarkTheme-4d6e8fac.svg",X="/assets/LightTheme-7f3b8584.svg",Y=g(()=>({root:{fontWeight:500,fontSize:"20px",textAlign:"center"}})),_=({title:s})=>{const{classes:t}=Y();return e.jsx(k,{className:t.root,children:s})},ss=g((s,{backgroundImage:t,isActive:o})=>{const l=s.colorScheme==="dark";return{root:{alignItems:"center",width:"max-content"},button:{width:"155px",height:"120px",backgroundRepeat:"no-repeat",backgroundImage:`url(${t})`,border:o?"3px solid #339AF0":`1px solid ${l?s.colors.darkBlack[0]:s.colors.gray[4]}`},text:{fontSize:"14px"}}}),es=({text:s,isActive:t,onClick:o,backgroundImage:l})=>{const{classes:a}=ss({backgroundImage:l,isActive:t});return e.jsxs(u,{className:a.root,children:[e.jsx(y,{className:a.button,onClick:o}),e.jsx(k,{className:a.text,children:s})]})},ts=g(()=>({root:{width:"100%",paddingTop:"18px",justifyContent:"space-between"}})),os=[{theme:"light",image:X,text:"Светлая тема"},{theme:"dark",image:Q,text:"Темная тема"}],as=b(()=>{const{selectedColorScheme:s,toggleSelectedColorScheme:t}=C,{classes:o}=ts(),{t:l}=m();return e.jsx(B,{className:o.root,children:os.map(({theme:a,text:r,image:c})=>e.jsx(es,{text:l(r),onClick:()=>t(a),backgroundImage:c,isActive:s===a},a))})}),ls=h.memo(({label:s,onChange:t,isAllowed:o,restrictions:l})=>{const a=A(),r=a.colorScheme==="dark",c=r?a.colors.darkBlack[6]:"white",x=l&&e.jsx(O,{size:8,color:a.colors.darkGray[2]});return e.jsx(E,{size:"md",label:s,checked:o,onChange:t,disabled:l,thumbIcon:x,color:r?"darkBlue.2":"blue.5",styles:{track:{border:"0",backgroundColor:r?a.colors.darkBlack[4]:a.colors.gray[2]},thumb:{border:"0",margin:"1px",width:"16px",height:"16px",alignItems:"center",backgroundColor:o?"white":c}}})}),rs={transcribation:"Транскрибация",validation:"Верификация",classify:"Классификация",label:"Сегментация"},cs=g(s=>({root:{padding:"25px 50px 30px",borderBottom:`1px solid ${s.colorScheme==="dark"?s.colors.darkBlack[0]:s.colors.gray[4]}`},stack:{gap:"14px"}})),ns=b(()=>{const{classes:s}=cs(),{role:t,tasksPermission:o}=Z,{settingsStates:l,setPermissions:a,togglePermission:r}=C,{t:c}=m();h.useEffect(()=>{a(o)},[o,a]);const x=h.useMemo(()=>Object.entries(l).map(([n,i])=>({key:n,label:c(rs[n]),isAllowed:i.split("_")[1]==="allow",isRestricted:i.split("_")[0]==="admin"&&t!=="admin",onChange:()=>r(t,n)})),[l,r,t,c]);return e.jsxs(u,{className:s.root,children:[e.jsx(_,{title:c("Выбор задачи")}),e.jsx(u,{className:s.stack,children:x.map(({key:n,label:i,onChange:p,isAllowed:S,isRestricted:j})=>e.jsx(ls,{label:i,onChange:p,isAllowed:S,restrictions:j},n))})]})}),is=g(s=>({root:{gap:0,height:"auto",minWidth:"450px",alignSelf:"center",borderRadius:"10px",backgroundColor:s.colorScheme==="dark"?s.colors.darkBlack[6]:"white"},center:{height:"100%"},interfaceSettings:{height:"100%",padding:"25px 50px"},buttons:{gap:"20px",width:"100%",height:"55%",alignSelf:"end",alignItems:"end",justifyContent:"end"}})),ds=s=>e.jsxs("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[e.jsxs("g",{clipPath:"url(#clip0_8109_98861)",children:[e.jsx("path",{d:"M10.89 20.853C16.4129 20.853 20.89 16.3759 20.89 10.853C20.89 5.33018 16.4129 0.853027 10.89 0.853027C5.36717 0.853027 0.890015 5.33018 0.890015 10.853C0.890015 16.3759 5.36717 20.853 10.89 20.853Z",fill:"#F0F0F0"}),e.jsx("path",{d:"M2.95719 4.76514C2.17168 5.78713 1.57938 6.96506 1.2345 8.24471H6.43676L2.95719 4.76514Z",fill:"#0052B4"}),e.jsx("path",{d:"M20.5456 8.24467C20.2007 6.96506 19.6083 5.78713 18.8229 4.76514L15.3434 8.24467H20.5456Z",fill:"#0052B4"}),e.jsx("path",{d:"M1.2345 13.4619C1.57942 14.7415 2.17172 15.9195 2.95719 16.9414L6.43665 13.4619H1.2345Z",fill:"#0052B4"}),e.jsx("path",{d:"M16.9782 2.92049C15.9562 2.13498 14.7783 1.54268 13.4987 1.19775V6.39998L16.9782 2.92049Z",fill:"#0052B4"}),e.jsx("path",{d:"M4.80176 18.7861C5.82375 19.5716 7.00168 20.1639 8.28129 20.5088V15.3066L4.80176 18.7861Z",fill:"#0052B4"}),e.jsx("path",{d:"M8.28125 1.19775C7.00164 1.54268 5.82371 2.13498 4.80176 2.92045L8.28125 6.39994V1.19775Z",fill:"#0052B4"}),e.jsx("path",{d:"M13.4987 20.5088C14.7783 20.1639 15.9562 19.5716 16.9781 18.7861L13.4987 15.3066V20.5088Z",fill:"#0052B4"}),e.jsx("path",{d:"M15.3434 13.4619L18.8229 16.9414C19.6083 15.9195 20.2007 14.7415 20.5456 13.4619H15.3434Z",fill:"#0052B4"}),e.jsx("path",{d:"M20.8054 9.54869H12.1944H12.1944V0.937676C11.7674 0.88209 11.3321 0.853027 10.89 0.853027C10.4479 0.853027 10.0126 0.88209 9.58568 0.937676V9.54861V9.54865H0.974663C0.919077 9.97565 0.890015 10.411 0.890015 10.853C0.890015 11.2952 0.919077 11.7304 0.974663 12.1574H9.5856H9.58564V20.7684C10.0126 20.824 10.4479 20.853 10.89 20.853C11.3321 20.853 11.7674 20.824 12.1944 20.7684V12.1574V12.1574H20.8054C20.861 11.7304 20.89 11.2952 20.89 10.853C20.89 10.411 20.861 9.97564 20.8054 9.54869Z",fill:"#D80027"}),e.jsx("path",{d:"M13.4988 13.462L17.9611 17.9243C18.1664 17.7191 18.3621 17.5046 18.5489 17.2823L14.7285 13.4619H13.4988V13.462Z",fill:"#D80027"}),e.jsx("path",{d:"M8.28135 13.4619H8.28127L3.81897 17.9242C4.02413 18.1295 4.23862 18.3252 4.46096 18.512L8.28135 14.6916V13.4619Z",fill:"#D80027"}),e.jsx("path",{d:"M8.28136 8.2442V8.24412L3.81901 3.78174C3.61378 3.98689 3.418 4.20139 3.2312 4.42373L7.05163 8.24416H8.28136V8.2442Z",fill:"#D80027"}),e.jsx("path",{d:"M13.4988 8.24453L17.9612 3.78211C17.756 3.57688 17.5415 3.38109 17.3192 3.19434L13.4988 7.01477V8.24453Z",fill:"#D80027"})]}),e.jsx("rect",{x:"0.940015",y:"0.903027",width:"19.9",height:"19.9",rx:"9.95",stroke:"#373A40",strokeWidth:"0.1"}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_8109_98861",children:e.jsx("rect",{x:"0.890015",y:"0.853027",width:"20",height:"20",rx:"10",fill:"white"})})})]}),H=s=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",...s,children:[e.jsxs("g",{clipPath:"url(#clip0_8109_98857)",children:[e.jsx("path",{d:"M10.8901 20.707C16.413 20.707 20.8901 16.2299 20.8901 10.707C20.8901 5.18418 16.413 0.707031 10.8901 0.707031C5.36729 0.707031 0.890137 5.18418 0.890137 10.707C0.890137 16.2299 5.36729 20.707 10.8901 20.707Z",fill:"white"}),e.jsx("path",{d:"M20.2681 14.1855C20.6701 13.1022 20.8901 11.9304 20.8901 10.7072C20.8901 9.48404 20.6701 8.31232 20.2681 7.229H1.51213C1.11018 8.31232 0.890137 9.48404 0.890137 10.7072C0.890137 11.9304 1.11018 13.1022 1.51213 14.1855L10.8901 15.0551L20.2681 14.1855Z",fill:"#0052B4"}),e.jsx("path",{d:"M10.8901 20.7068C15.1897 20.7068 18.8552 17.9931 20.2681 14.1851H1.51208C2.92501 17.9931 6.59044 20.7068 10.8901 20.7068Z",fill:"#D80027"})]}),e.jsx("rect",{x:"0.940137",y:"0.757031",width:"19.9",height:"19.9",rx:"9.95",stroke:"#373A40",strokeWidth:"0.1"}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_8109_98857",children:e.jsx("rect",{x:"0.890137",y:"0.707031",width:"20",height:"20",rx:"10",fill:"white"})})})]}),f={"ru-RU":e.jsx(H,{}),ru:e.jsx(H,{}),en:e.jsx(ds,{})},hs=h.forwardRef(({icon:s,label:t,description:o,...l},a)=>e.jsx(T,{ref:a,...l,children:e.jsxs(U,{noWrap:!0,children:[s,e.jsxs(T,{children:[e.jsx(k,{size:"sm",children:t}),e.jsx(k,{size:"xs",opacity:.65,children:o})]})]})})),gs=g(s=>{const t=s.colorScheme==="dark";return{root:{input:{border:`.5px solid ${t?s.colors.dark[4]:s.colors.gray[3]}`,background:t?s.colors.darkBlack[6]:"white",color:t?s.colors.gray[3]:"black",borderRadius:"8px","::placeholder":{color:t?s.colors.gray[3]:"black",fontWeight:500}},label:{marginBottom:"10px"},dropdown:{borderRadius:0,boxShadow:t?"0px 3.22251px 3.22251px -2.3018px rgba(0, 0, 0, 0.04), 0px 4.60359px 6.90538px -2.3018px rgba(0, 0, 0, 0.05), 0px 0.460359px 1.38108px rgba(0, 0, 0, 0.05)":"0px 1.94514px 1.94514px -1.38938px rgba(0, 0, 0, 0.04), 0px 2.77877px 4.16815px -1.38938px rgba(0, 0, 0, 0.05), 0px 0.277877px 0.83363px rgba(0, 0, 0, 0.05)",backgroundColor:t?"#1C1E26":"white"},item:{borderRadius:0,"&[data-hovered]":{backgroundColor:t?s.colors.darkBlack[5]:s.colors.gray[0]},"&[data-selected]":{"&, &:hover":{backgroundColor:t?s.colors.darkBlue[6]:s.colors.blue[0],color:t?s.colors.darkBlue[0]:s.colors.blue[5]}}}}}}),xs=({language:s,setLanguage:t,refSelect:o})=>{const{classes:l}=gs(),{t:a}=m(),r=[{icon:f.en,label:"English",value:"en"},{icon:f["ru-RU"],label:"Русский",value:"ru-RU"}];return e.jsx(G,{className:l.root,ref:o,label:a("Язык"),itemComponent:hs,data:r,value:s,searchable:!0,clearable:!1,onChange:c=>c?t(c):null,icon:f[s]})},ps=b(()=>{const{classes:s}=is(),{t}=m(),{language:o,toggleLanguage:l}=C;return e.jsx($,{className:s.center,children:e.jsxs(u,{className:s.root,children:[e.jsx(ns,{}),e.jsxs(u,{className:s.interfaceSettings,children:[e.jsx(_,{title:t("Настройки интерфейса")}),e.jsx(xs,{language:o,setLanguage:a=>l(a)}),e.jsx(as,{}),e.jsx(B,{className:s.buttons,children:e.jsx(J,{})})]})]})})}),js=()=>e.jsx(ps,{});export{js as default};
