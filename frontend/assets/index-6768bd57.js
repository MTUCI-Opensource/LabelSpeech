import{r as p,n as l,j as t,C as d,B as h,T as c,L as x,S as w,a as f,G as g}from"./index-ddf9c13f.js";import{u as j,r as N,a as k,T as u,P as m,A as b,b as S}from"./ThemeButton-6c34b32a.js";import{C}from"./Checkbox-eacb25a3.js";import"./use-input-props-72ea8e21.js";const P=s=>s.length<3?"Логин должен быть длиннее":null,y=s=>{const e=s.split(" ");if(e.length<2)return"Введите корректное ФИО";const i=/^[а-я]{2,}$/i;return e.every(n=>i.test(n))?null:"Используйте кириллицу"},I=s=>s.length<8?"Пароль должен быть длиннее 8 символов":null,v=(s,e)=>s!==e?"Пароли должны совпадать":null,A=()=>{const[s,e]=p.useState(!0);return[j({validate:{username:a=>P(a),fullName:a=>y(a),password:a=>I(a),passwordConfirm:(a,r)=>v(a,r.password)},initialValues:{username:"",fullName:"",password:"",passwordConfirm:"",isStudent:s,group:""}}),a=>{N(a).then(()=>{l.show({title:"Успешно!",color:"teal",message:"Вы успешно зарегистрировались"})}).catch(r=>{switch(r.request.status){case 406:l.show({title:"Ошибка",color:"red",message:"Учетная запись с таким логином уже существует"});break;default:l.show({title:"Ошибка",color:"red",message:"Проверьте вводимые данные"})}})},s,e]},R=()=>{const{classes:s}=k(),[e,i,n,a]=A(),r=o=>{o.keyCode===32&&o.preventDefault()};return t.jsx(d,{className:s.root,children:t.jsxs(h,{component:"form",className:s.form,onSubmit:e.onSubmit(o=>{i(o)}),children:[t.jsx(c,{className:s.title,children:"Label Speech"}),t.jsx(u,{withAsterisk:!0,placeholder:"Логин",className:s.input,onKeyDown:r,...e.getInputProps("username")}),t.jsx(u,{withAsterisk:!0,className:s.input,placeholder:"Имя и фамилия пользователя",...e.getInputProps("fullName")}),t.jsx(m,{withAsterisk:!0,placeholder:"Пароль",onKeyDown:r,radius:"7px",className:s.password,...e.getInputProps("password")}),t.jsx(m,{withAsterisk:!0,placeholder:"Повторите пароль",onKeyDown:r,radius:"7px",className:s.password,...e.getInputProps("passwordConfirm")}),t.jsx(C,{label:"Являетесь ли Вы членом группы",checked:n,size:"xs",className:s.checkbox,onChange:o=>a(o.currentTarget.checked)}),n&&t.jsx(u,{withAsterisk:!0,placeholder:"Ваша группа",onKeyDown:r,className:s.input,...e.getInputProps("universityGroup")}),t.jsx(b,{text:"Зарегистрироваться",isEnable:!!(e.values.username&&e.values.fullName&&e.values.password&&e.values.passwordConfirm)}),t.jsxs(c,{className:s.link,children:["Уже есть аккаунт? ",t.jsx(x,{to:w.login,className:s.link,children:"Войти"})]})]})})},V=()=>t.jsxs(f,{spacing:0,h:"100vh",children:[t.jsx(g,{position:"right",children:t.jsx(S,{})}),t.jsx(R,{})]});export{V as default};
